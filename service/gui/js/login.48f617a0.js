(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"2e29":function(e,t,s){},a55b:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("the-login-box",{on:{submit:e.submit}})],1)],1)],1)},i=[],n=s("9ab4"),a=s("60a3"),o=s("bcc0"),c=s("f33f"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n["d"](t,e),t.prototype.mounted=function(){return n["b"](this,void 0,void 0,function(){return n["e"](this,function(e){switch(e.label){case 0:return[4,c["b"].checkIfAnyUserExists()];case 1:return e.sent(),c["b"].setLoaded(!0),[2]}})})},t.prototype.submit=function(e){return n["b"](this,void 0,void 0,function(){var t,s;return n["e"](this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,c["b"].authenticate(e)];case 1:return r.sent(),t=this.$route.query.redirect,this.$router.push(t?Array.isArray(t)?t[0]||"/":t:"/"),[3,3];case 2:return s=r.sent(),console.log(s),[3,3];case 3:return[2]}})})},Object.defineProperty(t.prototype,"anyUserExists",{get:function(){return c["b"].anyUserExists},enumerable:!0,configurable:!0}),t.prototype.handleUserExistsChange=function(){this.anyUserExists||(this.$router.replace("/setup"),c["b"].setLoaded(!0))},n["c"]([Object(a["g"])("anyUserExists",{immediate:!0})],t.prototype,"handleUserExistsChange",null),t=n["c"]([Object(a["a"])({components:{TheLoginBox:o["a"]}})],t),t}(Object(a["d"])()),u=l,p=u,h=s("2877"),d=s("6544"),f=s.n(d),v=s("a523"),m=s("0e8f"),g=s("a722"),b=Object(h["a"])(p,r,i,!1,null,null,null);t["default"]=b.exports;f()(b,{VContainer:v["a"],VFlex:m["a"],VLayout:g["a"]})},b73d:function(e,t,s){"use strict";s("94a7"),s("2e29");var r=s("5368"),i=s("c341"),n=s("0789"),a=s("490a"),o=s("80d2"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e};t["a"]={name:"v-switch",directives:{Touch:i["a"]},mixins:[r["a"]],props:{loading:{type:[Boolean,String],default:!1}},computed:{classes:function(){return{"v-input--selection-controls v-input--switch":!0}},switchData:function(){return this.setTextColor(this.loading?void 0:this.computedColor,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",this.$attrs),this.genRipple(this.setTextColor(this.computedColor,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",c({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",c({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(n["b"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(a["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(e){(e.keyCode===o["r"].left&&this.isActive||e.keyCode===o["r"].right&&!this.isActive)&&this.onChange()}}}},bcc0:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"elevation-12"},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[e._v(e._s(e.$t("login.prompt")))])],1),s("v-card-text",[s("v-flex",{attrs:{xs12:""}},[s("logo")],1),s("v-form",[s("v-text-field",{attrs:{box:"","prepend-icon":"mdi-account",name:"name",label:e.$t("login.username"),type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{attrs:{counter:"",box:"",label:e.$t("login.password"),"prepend-icon":"mdi-lock",name:"password","append-icon":e.show?"mdi-eye-off":"mdi-eye",type:e.show?"text":"password"},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),s("v-card-actions",[s("v-btn",{attrs:{color:"primary",block:"",large:"",disabled:!e.password||!e.username},on:{click:function(t){return e.$emit("submit",{password:e.password,username:e.username})}}},[e._v(e._s(e.$t("login.login")))])],1)],1)},i=[],n=s("9ab4"),a=s("60a3"),o=s("ee1b"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.username="",t.password="",t.show=!1,t}return n["d"](t,e),t=n["c"]([Object(a["a"])({components:{Logo:o["a"]}})],t),t}(Object(a["d"])()),l=c,u=l,p=s("2877"),h=s("6544"),d=s.n(h),f=s("8336"),v=s("b0af"),m=s("99d9"),g=s("0e8f"),b=s("4bd4"),y=s("2677"),w=s("71d9"),x=s("2a7f"),$=Object(p["a"])(u,r,i,!1,null,null,null);t["a"]=$.exports;d()($,{VBtn:f["a"],VCard:v["a"],VCardActions:m["a"],VCardText:m["b"],VFlex:g["a"],VForm:b["a"],VTextField:y["a"],VToolbar:w["a"],VToolbarTitle:x["a"]})},bff6:function(e,t,s){},e8e7:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"fill-height":""}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",md8:"",lg6:""}},[s("home-wizard")],1)],1)],1)},i=[],n=s("9ab4"),a=s("60a3"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-stepper",{staticClass:"elevation-4",model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[s("v-stepper-header",[s("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v(e._s(e.$t("wizard.choose-language")))]),s("v-divider"),s("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v(e._s(e.$t("wizard.create-user")))]),s("v-divider"),s("v-stepper-step",{attrs:{step:"3"}},[e._v(e._s(e.$t("wizard.choose-theme")))])],1),s("v-stepper-items",[s("v-stepper-content",{attrs:{step:"1"}},[s("v-card",{staticClass:"elevation-10 ma-3",attrs:{color:""}},[s("v-layout",{attrs:{"fill-height":"","justify-center":"","align-center":""}},[s("v-flex",{staticClass:"pa-4",attrs:{xs12:"","d-flex":""}},[s("v-select",{attrs:{items:e.availableLanguages,label:e.$t("language.choose"),outline:"",value:e.language},on:{input:e.setLanguage}})],1)],1)],1),s("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=2}}},[e._v(e._s(e.$t("common.interaction.continue")))])],1),s("v-stepper-content",{attrs:{step:"2"}},[s("v-card",{staticClass:"elevation-10 ma-3",attrs:{color:""}},[s("v-form",{ref:"firstPageForm",attrs:{"lazy-validation":""}},[s("v-flex",{staticClass:"px-3 pt-3"},[s("v-text-field",{attrs:{"prepend-icon":"mdi-textbox",box:"",label:e.$t("login.first-name"),type:"text",rules:e.validateRules.firstName},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),s("v-text-field",{attrs:{"prepend-icon":"mdi-textbox",box:"",label:e.$t("login.last-name"),type:"text",rules:e.validateRules.lastName},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),s("v-text-field",{attrs:{"prepend-icon":"mdi-at",box:"",label:e.$t("login.email"),type:"text",rules:e.validateRules.email},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),s("v-divider"),s("v-flex",{staticClass:"pa-3"},[s("v-text-field",{attrs:{box:"","prepend-icon":"mdi-account",name:"name",label:e.$t("login.username"),type:"text",rules:e.validateRules.username},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{attrs:{counter:"",box:"",label:e.$t("login.password"),loading:"","prepend-icon":"mdi-lock",name:"password","append-icon":e.showPasswordPlaintext?"mdi-eye-off":"mdi-eye",type:e.showPasswordPlaintext?"text":"password",messages:[e.passwordValidationMessages],rules:e.validateRules.password},on:{"click:append":function(t){e.showPasswordPlaintext=!e.showPasswordPlaintext}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[s("v-progress-linear",{attrs:{slot:"progress",value:e.progress,color:e.color,height:"5"},slot:"progress"})],1)],1)],1)],1),s("v-btn",{attrs:{flat:""},on:{click:function(t){e.e1=1}}},[e._v(e._s(e.$t("common.interaction.back")))]),s("v-btn",{attrs:{color:"primary"},on:{click:e.validateFirstForm}},[e._v(e._s(e.$t("common.interaction.continue")))])],1),s("v-stepper-content",{attrs:{step:"3"}},[s("v-card",{staticClass:"elevation-10 ma-3",attrs:{color:""}},[s("v-layout",{attrs:{"fill-height":"","justify-center":"","align-center":""}},[s("v-flex",{staticClass:"pa-4",attrs:{xs12:"","d-flex":""}},[s("v-switch",{attrs:{label:e.$t("theme.dark"),"input-value":e.theme.dark},on:{change:e.setDark}})],1)],1)],1),s("v-btn",{attrs:{flat:""},on:{click:function(t){e.e1=2}}},[e._v(e._s(e.$t("common.interaction.back")))]),s("v-btn",{attrs:{color:"primary",loading:e.loading},on:{click:e.setupFinishClicked}},[e._v(e._s(e.$t("common.interaction.finish")))])],1)],1)],1)},c=[],l=s("f33f"),u=s("f90c"),p=s("85ee"),h=s("845e"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.e1=0,t.username="",t.password="",t.firstName="",t.lastName="",t.email="",t.showPasswordPlaintext=!1,t.loading=!1,t}return n["d"](t,e),t.prototype.created=function(){p["e"]&&Object.assign(this,p["d"])},t.prototype.validateFirstForm=function(){this.$refs.firstPageForm.validate()&&(this.e1=3)},Object.defineProperty(t.prototype,"validateRules",{get:function(){var e=this;return{password:[function(t){return!!t||e.$t("wizard.form.password-required")}],username:[function(t){return!!t||e.$t("wizard.form.username-required")}],firstName:[function(t){return!!t||e.$t("wizard.form.first-name-required")}],lastName:[function(t){return!!t||e.$t("wizard.form.last-name-required")}],email:[function(t){return!!t||e.$t("wizard.form.email-required")},function(t){return Object(u["isEmail"])(t)||e.$t("wizard.form.invalid-email")}]}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){var e=2.7*this.password.length;return this.hasUppercaseLetters&&(e+=10),this.hasLowercaseLetters&&(e+=10),this.hasNumbers&&(e+=15),this.hasSymbols&&(e+=15),this.areWordsRepeated&&(e-=20),this.areCharactersRepeated&&(e-=30),this.isLongEnough||(e-=30),Math.min(100,Math.max(0,e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return["error","warning","success"][Math.floor(this.progress/40)]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasLowercaseLetters",{get:function(){return/[a-z]/.test(this.password)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasUppercaseLetters",{get:function(){return/[A-Z]/.test(this.password)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasNumbers",{get:function(){return/[0-9]/.test(this.password)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSymbols",{get:function(){return/\W+/.test(this.password)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLongEnough",{get:function(){return this.password.length>=8},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areCharactersRepeated",{get:function(){return/^(.)\1{3,}$/.test(this.password)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areWordsRepeated",{get:function(){return/^(.{4,}).*\1$/.test(this.password)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"passwordValidationMessages",{get:function(){return this.areCharactersRepeated?this.$t("login.password-security.no-same-characters"):this.areWordsRepeated?this.$t("login.password-security.no-repeated-words"):this.password.length<8?this.$t("login.password-security.not-long-enough"):this.hasUppercaseLetters&&this.hasLowercaseLetters?this.hasNumbers&&this.hasSymbols?"":this.$t("login.password-security.no-numbers-and-special"):this.$t("login.password-security.no-uppercase-lowercase")},enumerable:!0,configurable:!0}),t.prototype.setupFinishClicked=function(){return n["b"](this,void 0,void 0,function(){return n["e"](this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this.loading=!0,[4,l["b"].createUser({username:this.username,password:this.password,firstName:this.firstName,lastName:this.lastName,email:this.email})];case 1:return e.sent(),[4,l["g"].saveAllSettings()];case 2:return e.sent(),this.loading=!1,this.$router.replace("/login"),[3,4];case 3:return e.sent(),this.loading=!1,[3,4];case 4:return[2]}})})},Object.defineProperty(t.prototype,"language",{get:function(){return l["g"].language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"theme",{get:function(){return l["g"].theme},enumerable:!0,configurable:!0}),t.prototype.setLanguage=function(e){l["g"].setLanguage(e)},t.prototype.setDark=function(e){l["g"].setDark(e)},Object.defineProperty(t.prototype,"availableLanguages",{get:function(){return[{text:this.$t("language.german"),value:h["Language"].de},{text:this.$t("language.english"),value:h["Language"].en}]},enumerable:!0,configurable:!0}),t=n["c"]([a["a"]],t),t}(a["f"]),f=d,v=f,m=s("2877"),g=s("6544"),b=s.n(g),y=s("8336"),w=s("b0af"),x=s("ce7e"),$=s("0e8f"),_=s("4bd4"),V=s("a722"),k=s("8e36"),j=s("b56d"),C=(s("bff6"),s("94ab")),O=s("6a18"),L=s("58df"),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},S=Object(L["a"])(Object(C["b"])("stepper"),O["a"]).extend({name:"v-stepper",provide:function(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{nonLinear:Boolean,altLabels:Boolean,vertical:Boolean,value:[Number,String]},data:function(){return{inputValue:null,isBooted:!1,steps:[],content:[],isReverse:!1}},computed:{classes:function(){return P({"v-stepper":!0,"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear},this.themeClasses)}},watch:{inputValue:function(e,t){this.isReverse=Number(e)<Number(t);for(var s=this.steps.length;--s>=0;)this.steps[s].toggle(this.inputValue);for(var r=this.content.length;--r>=0;)this.content[r].toggle(this.inputValue,this.isReverse);this.$emit("input",this.inputValue),t&&(this.isBooted=!0)},value:function(){var e=this;this.$nextTick(function(){return e.inputValue=e.value})}},mounted:function(){this.inputValue=this.value||this.steps[0].step||1},methods:{register:function(e){"v-stepper-step"===e.$options.name?this.steps.push(e):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content.push(e))},unregister:function(e){"v-stepper-step"===e.$options.name?this.steps=this.steps.filter(function(t){return t!==e}):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content=this.content.filter(function(t){return t!==e}))},stepClick:function(e){var t=this;this.$nextTick(function(){return t.inputValue=e})}},render:function(e){return e("div",{class:this.classes},this.$slots.default)}}),N=s("0789"),E=s("80d2"),A=Object(L["a"])(Object(C["a"])("stepper","v-stepper-content","v-stepper")).extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data:function(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{classes:function(){return{"v-stepper__content":!0}},computedTransition:function(){return this.isReverse?N["h"]:N["i"]},styles:function(){return this.isVertical?{height:Object(E["e"])(this.height)}:{}},wrapperClasses:function(){return{"v-stepper__wrapper":!0}}},watch:{isActive:function(e,t){e&&null==t?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted:function(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition:function(e){this.isActive&&"height"===e.propertyName&&(this.height="auto")},enter:function(){var e=this,t=0;requestAnimationFrame(function(){t=e.$refs.wrapper.scrollHeight}),this.height=0,setTimeout(function(){return e.isActive&&(e.height=t||"auto")},450)},leave:function(){var e=this;this.height=this.$refs.wrapper.clientHeight,setTimeout(function(){return e.height=0},10)},toggle:function(e,t){this.isActive=e.toString()===this.step.toString(),this.isReverse=t}},render:function(e){var t={class:this.classes},s={class:this.wrapperClasses,style:this.styles,ref:"wrapper"};this.isVertical||(t.directives=[{name:"show",value:this.isActive}]);var r=e("div",s,[this.$slots.default]),i=e("div",t,[r]);return e(this.computedTransition,{on:this.$listeners},[i])}}),R=s("9d26"),T=s("b64a"),F=s("3ccf"),z=Object(L["a"])(T["a"],Object(C["a"])("stepper","v-stepper-step","v-stepper")).extend({name:"v-stepper-step",directives:{Ripple:F["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$vuetify.icons.complete"},editIcon:{type:String,default:"$vuetify.icons.edit"},errorIcon:{type:String,default:"$vuetify.icons.error"},editable:Boolean,rules:{type:Array,default:function(){return[]}},step:[Number,String]},data:function(){return{isActive:!1,isInactive:!0}},computed:{classes:function(){return{"v-stepper__step":!0,"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error":this.hasError,"v-stepper__step--complete":this.complete,"error--text":this.hasError}},hasError:function(){return this.rules.some(function(e){return!0!==e()})}},mounted:function(){this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.stepper&&this.stepper.unregister(this)},methods:{click:function(e){e.stopPropagation(),this.$emit("click",e),this.editable&&this.stepClick(this.step)},toggle:function(e){this.isActive=e.toString()===this.step.toString(),this.isInactive=Number(e)<Number(this.step)}},render:function(e){var t={class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},s=void 0;s=this.hasError?[e(R["a"],{},this.errorIcon)]:this.complete?this.editable?[e(R["a"],{},this.editIcon)]:[e(R["a"],{},this.completeIcon)]:String(this.step);var r=!(this.hasError||!this.complete&&!this.isActive)&&this.color,i=e("span",this.setBackgroundColor(r,{staticClass:"v-stepper__step__step"}),s),n=e("div",{staticClass:"v-stepper__label"},this.$slots.default);return e("div",t,[i,n])}}),B=Object(E["h"])("v-stepper__header"),I=Object(E["h"])("v-stepper__items"),U=s("b73d"),q=s("2677"),D=Object(m["a"])(v,o,c,!1,null,null,null),M=D.exports;b()(D,{VBtn:y["a"],VCard:w["a"],VDivider:x["a"],VFlex:$["a"],VForm:_["a"],VLayout:V["a"],VProgressLinear:k["a"],VSelect:j["a"],VStepper:S,VStepperContent:A,VStepperHeader:B,VStepperItems:I,VStepperStep:z,VSwitch:U["a"],VTextField:q["a"]});var W=s("bcc0"),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n["d"](t,e),t.prototype.submit=function(e){return n["b"](this,void 0,void 0,function(){return n["e"](this,function(t){switch(t.label){case 0:return[4,l["b"].createUser(e)];case 1:return t.sent(),this.$router.push(this.$route.query.redirect?String(this.$route.query.redirect):"/"),[2]}})})},t.prototype.mounted=function(){return n["b"](this,void 0,void 0,function(){return n["e"](this,function(e){return l["b"].setLoaded(!0),[2]})})},t=n["c"]([Object(a["a"])({components:{TheLoginBox:W["a"],HomeWizard:M}})],t),t}(Object(a["d"])()),J=H,K=J,Z=s("a523"),G=Object(m["a"])(K,r,i,!1,null,null,null);t["default"]=G.exports;b()(G,{VContainer:Z["a"],VFlex:$["a"],VLayout:V["a"]})}}]);
//# sourceMappingURL=login.48f617a0.js.map