{"version":3,"sources":["webpack:///./src/components/Timeline.vue?24ea","webpack:///./src/components/misc/FullscreenLoader.vue?a0af","webpack:///./src/components/misc/FullscreenLoader.vue","webpack:///./src/components/misc/FullscreenLoader.vue?4676","webpack:///./src/components/misc/FullscreenLoader.vue?2980","webpack:///./src/mixins/loadingScreen.ts","webpack:///./src/views/RepositoryLogs.vue?be47","webpack:///./src/views/RepositoryLogs.vue","webpack:///./src/views/RepositoryLogs.vue?cde9","webpack:///./src/views/RepositoryLogs.vue?a4f4","webpack:///./src/components/Timeline.vue?f762","webpack:///./src/components/Timeline.vue","webpack:///./src/components/Timeline.vue?620c","webpack:///./node_modules/vuetify/lib/components/VTimeline/VTimeline.js","webpack:///./node_modules/vuetify/lib/components/VTimeline/VTimelineItem.js","webpack:///./src/components/Timeline.vue?7846"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Timeline_vue_vue_type_style_index_0_id_97f39236_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Timeline_vue_vue_type_style_index_0_id_97f39236_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","fill-height","justify-center","align-center","column","loader","staticStyle","min-width","flex-grow","value","indeterminate","automaticIndeterminate","color","staticRenderFns","FullscreenLoadervue_type_script_lang_ts_LoaderComponent","_super","LoaderComponent","tslib_es6","Object","defineProperty","prototype","vue_property_decorator","type","Number","default","validator","val","Boolean","components","Logo","FullscreenLoadervue_type_script_lang_ts_","misc_FullscreenLoadervue_type_script_lang_ts_","component","componentNormalizer","FullscreenLoader","installComponents_default","VLayout","VProgressLinear","loadingScreen_LoadingScreen","LoadingScreen","_this","apply","arguments","currentLoadingPercentage","shouldFinishLoading","setLoading","loading","updateLoadingPercentage","currentlyLoading","setTimeout","Math","random","max","staticClass","repo-id","repoId","RepositoryLogsvue_type_script_lang_ts_RepositoryLogsView","RepositoryLogsView","modules","params","repositoryId","mounted","Timeline","loadingScreen","RepositoryLogsvue_type_script_lang_ts_","views_RepositoryLogsvue_type_script_lang_ts_","__webpack_exports__","VContainer","max-width","dense","clipped","fill-dot","large","slot","_v","flat","to","_s","$t","_e","label","model","callback","$$v","showAllLogTypes","expression","group","_l","event","key","id","dotColor","small","hide-dot","isSectionHeading","tag","align-middle","chip","idx","class","name","heading","time","text","justify-space-between","xs7","actions","action","on","click","$event","showEventDetails","icon","fab","outline","disabled","noMoreEntries","fetchLogs","x-large","xs12","scrollable","dialogOpen","currentEventDetails","$d","date","fullText","target","href","logDetailsUrl","nativeOn","Timelinevue_type_script_lang_ts_Timeline","events","interval","store_api","console","log","response","_a","sent","err_1","lastDate","slice","flatMap","ev","newDate","JobExecutionCalendar","date_fns","Date","locale","language","shared","de","de_default","a","en_default","addSuffix","unit","toUpperCase","onShowAllLogTypesChange","onTypeChange","reset","limit","offset","length","undefined","other","client","clientId","backupJob","jobId","repository","_b","payload","push","logs","map","transformLogFromApiToInternal","error_1","api","chips","clientbyID","repo","getById","job","eventDescription","logLevel","beforeDestroy","String","required","arg","indexOf","immediate","Timelinevue_type_script_lang_ts_","components_Timelinevue_type_script_lang_ts_","_extends","assign","i","source","hasOwnProperty","call","VTimeline","mixins","themeable","extend","props","alignTop","computed","classes","v-timeline--align-top","v-timeline--dense","themeClasses","h","$slots","VTimelineItem_extends","VTimelineItem","colorable","fillDot","hideDot","iconColor","left","right","hasIcon","methods","genBody","genIcon","components_VIcon","dark","theme","isDark","genInnerDot","data","setBackgroundColor","genDot","v-timeline-item__dot--small","v-timeline-item__dot--large","genOpposite","opposite","children","unshift","v-timeline-item--fill-dot","v-timeline-item--left","v-timeline-item--right","VBtn","VCard","VCardActions","components_VCard","VCardText","VCardTitle","VCheckbox","VChip","VDialog","VFlex","VIcon","VSlideXTransition","transitions","VSpacer","VGrid"],"mappings":"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","file":"js/repository-logs.430411e3.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=style&index=0&id=97f39236&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=style&index=0&id=97f39236&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"fill-height\":\"\",\"justify-center\":\"\",\"align-center\":\"\",\"column\":\"\"}},[_c('logo',{attrs:{\"loader\":\"\"}}),_c('div',{staticStyle:{\"min-width\":\"200px\",\"flex-grow\":\"0\"}},[_c('v-progress-linear',{attrs:{\"value\":_vm.value * 100,\"indeterminate\":_vm.indeterminate || _vm.automaticIndeterminate,\"color\":\"accent\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop, Mixins, Watch } from \"vue-property-decorator\";\nimport Logo from \"./Logo.vue\";\n\n@Component({\n  components: {\n    Logo\n  }\n})\nexport default class LoaderComponent extends Mixins() {\n  @Prop({\n    type: Number,\n    default: 0,\n    validator: val => val >= 0 && val <= 1\n  })\n  value!: number;\n\n  @Prop({\n    type: Boolean,\n    default: false\n  })\n  indeterminate!: boolean;\n\n  get automaticIndeterminate() {\n    return this.value > 0.99;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenLoader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullscreenLoader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FullscreenLoader.vue?vue&type=template&id=02d7d0d6&\"\nimport script from \"./FullscreenLoader.vue?vue&type=script&lang=ts&\"\nexport * from \"./FullscreenLoader.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/builds/backup380/backup380/gui/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VLayout } from 'vuetify/lib'\nimport { VProgressLinear } from 'vuetify/lib'\ninstallComponents(component, {VLayout,VProgressLinear})\n","import { Vue, Component, Watch } from \"vue-property-decorator\";\nimport FullscreenLoader from \"@/components/misc/FullscreenLoader.vue\";\n\n/**\n * Usage:\n *  Class: setLoading(true)/setLoading(false)\n *  Template: {{currentlyLoading}} {{currentLoadingPercentage}}\n *\n * @export\n * @class LoadingScreen\n * @extends {Vue}\n */\n@Component({\n  components: {\n    FullscreenLoader\n  }\n})\nexport class LoadingScreen extends Vue {\n  private currentLoadingPercentage = 1;\n  private shouldFinishLoading = false;\n\n  get currentlyLoading() {\n    return this.currentLoadingPercentage < 1;\n  }\n\n  setLoading(loading: boolean) {\n    if (loading) {\n      this.currentLoadingPercentage = 0;\n      this.shouldFinishLoading = false;\n    } else {\n      this.shouldFinishLoading = true;\n    }\n  }\n\n  @Watch(\"currentlyLoading\")\n  private updateLoadingPercentage() {\n    if (!this.currentlyLoading) return;\n    setTimeout(\n      () => {\n        this.currentLoadingPercentage += this.shouldFinishLoading\n          ? 0.3\n          : Math.random() * ((1 - this.currentLoadingPercentage) * 0.1);\n        if (this.shouldFinishLoading) {\n          this.currentLoadingPercentage = Math.max(\n            0.99,\n            this.currentLoadingPercentage\n          );\n        }\n        if (this.currentlyLoading) this.updateLoadingPercentage();\n      },\n      this.shouldFinishLoading ? 500 : Math.random() * 200\n    );\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.currentlyLoading)?_c('fullscreen-loader',{attrs:{\"value\":_vm.currentLoadingPercentage}}):_c('div',{staticClass:\"ma-4\"},[_c('v-container',[_c('timeline',{attrs:{\"type\":\"repository\",\"repo-id\":_vm.repoId}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop, Mixins } from \"vue-property-decorator\";\nimport { LoadingScreen } from \"@/mixins/loadingScreen\";\nimport { routerModule, repositoriesModule } from \"@/store/modules\";\nimport Timeline from \"@/components/Timeline.vue\";\n\n@Component({\n  components: {\n    Timeline\n  }\n})\nexport default class RepositoryLogsView extends Mixins(LoadingScreen) {\n  get repoId(): string {\n    return routerModule.params.repositoryId;\n  }\n\n  mounted() {\n    this.setLoading(true);\n    setTimeout(() => this.setLoading(false), 0);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RepositoryLogs.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RepositoryLogs.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RepositoryLogs.vue?vue&type=template&id=4290344a&\"\nimport script from \"./RepositoryLogs.vue?vue&type=script&lang=ts&\"\nexport * from \"./RepositoryLogs.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/builds/backup380/backup380/gui/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib'\ninstallComponents(component, {VContainer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticStyle:{\"max-width\":\"800px\"}},[_c('v-timeline',{attrs:{\"dense\":\"\",\"clipped\":\"\"}},[_c('v-timeline-item',{staticClass:\"white--text mb-5\",attrs:{\"fill-dot\":\"\",\"color\":\"primary\",\"large\":\"\"}},[_c('v-icon',{attrs:{\"slot\":\"icon\"},slot:\"icon\"},[_vm._v(\"mdi-gesture-tap\")]),_c('v-card',[_c('v-card-actions',{staticClass:\"d-flex\"},[(_vm.type === 'other' || _vm.type === 'backupjob' || _vm.type === 'repository')?_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"accent\",\"to\":\"/jobs/new\"}},[_vm._v(_vm._s(_vm.$t(\"timeline.new-backup-job\")))]):_vm._e(),(_vm.type === 'other' || _vm.type === 'repository')?_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"accent\",\"to\":\"/repositories/new\"}},[_vm._v(_vm._s(_vm.$t(\"timeline.new-repository\")))]):_vm._e(),(_vm.type === 'other' || _vm.type === 'client')?_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"accent\",\"to\":\"/admin/client/new\"}},[_vm._v(_vm._s(_vm.$t(\"timeline.new-client\")))]):_vm._e()],1),_c('v-card-actions',{staticClass:\"px-4\"},[_c('v-checkbox',{attrs:{\"color\":\"accent\",\"label\":_vm.$t('timeline.show-all-log-types')},model:{value:(_vm.showAllLogTypes),callback:function ($$v) {_vm.showAllLogTypes=$$v},expression:\"showAllLogTypes\"}})],1)],1)],1),_c('v-slide-x-transition',{attrs:{\"group\":\"\"}},[_vm._l((_vm.computedEvents),function(event){return [_c('v-timeline-item',{key:event.id,staticClass:\"mb-3\",attrs:{\"color\":event.dotColor,\"small\":\"\",\"fill-dot\":\"\",\"hide-dot\":!event.dotColor}},[_c(event.isSectionHeading ? 'span' : 'v-card',{tag:\"component\"},[_c('v-card-title',[_c('v-layout',{attrs:{\"align-middle\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[(event.chips)?_c('v-flex',{staticClass:\"shrink\"},_vm._l((event.chips),function(chip,idx){return _c('v-chip',{key:idx,staticClass:\"white--text ml-0\",class:chip.class,attrs:{\"label\":\"\",\"small\":\"\"}},[_vm._v(_vm._s(chip.name))])}),1):_vm._e(),_c('v-flex',{staticClass:\"grow\",class:event.isSectionHeading && 'title'},[_vm._v(_vm._s(event.heading))]),_c('v-flex',{staticClass:\"shrink\"},[_vm._v(_vm._s(event.time))])],1)],1),(!!event.text)?_c('v-card-text',[_c('v-layout',{attrs:{\"justify-space-between\":\"\"}},[_c('v-flex',{attrs:{\"xs7\":\"\"}},[_c('pre',{staticClass:\"full-log\"},[_vm._v(_vm._s(event.text))])])],1)],1):_vm._e(),(!!event.actions || !event.isSectionHeading)?_c('v-card-actions',[_c('v-spacer'),_vm._l((event.actions),function(action,idx){return _c('v-btn',{key:idx,attrs:{\"flat\":\"\",\"color\":\"accent\"}},[_vm._v(_vm._s(action.text))])}),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"accent\"},on:{\"click\":function($event){return _vm.showEventDetails(event)}}},[_vm._v(_vm._s(_vm.$t(\"timeline.show-details\")))])],2):_vm._e()],1)],1)]})],2)],1),_c('v-layout',{attrs:{\"justify-center\":\"\",\"align-center\":\"\",\"column\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"large\":\"\",\"fab\":\"\",\"outline\":\"\",\"color\":\"accent\",\"disabled\":_vm.noMoreEntries,\"loading\":_vm.loading},on:{\"click\":_vm.fetchLogs}},[_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-chevron-down\")])],1),(_vm.noMoreEntries)?_c('v-flex',{staticClass:\"text-xs-center grey--text\",attrs:{\"xs12\":\"\"}},[_vm._v(_vm._s(_vm.$t(\"timeline.no-more-entries\")))]):_vm._e()],1),_c('v-dialog',{attrs:{\"max-width\":\"1000px\",\"scrollable\":\"\"},model:{value:(_vm.dialogOpen),callback:function ($$v) {_vm.dialogOpen=$$v},expression:\"dialogOpen\"}},[_c('v-card',[_c('v-card-title',{class:(_vm.currentEventDetails || {}).dotColor},[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.$t(\"timeline.details.headline\")))])]),(_vm.currentEventDetails)?_c('v-card-text',[_c('p',[_vm._v(_vm._s(_vm.$t(\"timeline.details.id\"))+\": \"+_vm._s(_vm.currentEventDetails.id))]),_c('p',[_vm._v(_vm._s(_vm.$t(\"timeline.details.date\"))+\": \"+_vm._s(_vm.$d(_vm.currentEventDetails.date, \"long\")))]),_c('div',[_vm._v(_vm._s(_vm.$t(\"timeline.details.log-file-content\"))+\":\")]),_c('div',{staticClass:\"full-log\"},[_vm._v(_vm._s(_vm.currentEventDetails.fullText))])]):_vm._e(),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"target\":\"_blank\",\"href\":_vm.logDetailsUrl,\"flat\":\"\"}},[_vm._v(_vm._s(_vm.$t(\"timeline.details.open-in-new-tab\")))]),_c('v-btn',{attrs:{\"color\":\"accent\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.dialogOpen = false}}},[_vm._v(_vm._s(_vm.$t(\"common.interaction.close\")))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop, Mixins, Watch } from \"vue-property-decorator\";\nimport {\n  distanceInWords,\n  distanceInWordsToNow,\n  parse,\n  distanceInWordsStrict\n} from \"date-fns\";\nimport {\n  settingsModule,\n  adminModule,\n  jobsModule,\n  repositoriesModule\n} from \"@/store/modules\";\nimport { Language, LogFromApi, LogType } from \"@/shared\";\nimport enLocale from \"date-fns/locale/en\";\nimport deLocale from \"date-fns/locale/de\";\nimport { dateToYYYYMMDDString } from \"@/components/misc/JobExecutionCalendar.vue\";\nimport { getLogs, getLogDetails, getLogDetailsUrl, baseUrl } from \"@/store/api\";\nimport Logo from \"@/components/misc/Logo.vue\";\n\nexport interface IBackupEvent {\n  id: number | string;\n  text?: string;\n  time?: string;\n  project?: any;\n  color?: string;\n  heading?: string;\n  email?: boolean;\n  error?: boolean;\n  chips?: ({ name: string; class?: string })[];\n  dotColor?: string;\n  date?: Date;\n  isSectionHeading?: boolean;\n  actions?: ({ text: string })[];\n}\n\ninterface IDetailedBackupEvent extends IBackupEvent {\n  fullText: string;\n}\n\n@Component({\n  components: {\n    Logo\n  }\n})\nexport default class Timeline extends Mixins() {\n  dialogOpen = false;\n  currentEventDetails: IDetailedBackupEvent | null = null;\n  loading = false;\n  noMoreEntries = false;\n  showAllLogTypes = false;\n\n  get logDetailsUrl() {\n    return (\n      this.currentEventDetails &&\n      `${baseUrl}${getLogDetailsUrl(this.currentEventDetails.id)}`\n    );\n  }\n\n  async showEventDetails(event: IBackupEvent) {\n    this.dialogOpen = true;\n    console.log(event.id);\n    try {\n      const response = await getLogDetails(Number(event.id));\n      if (response) {\n        this.currentEventDetails = {\n          ...event,\n          fullText: response\n        };\n        return;\n      }\n    } catch (err) {\n      console.log(err);\n    }\n    this.dialogOpen = false;\n  }\n\n  get computedEvents(): IBackupEvent[] {\n    let lastDate = \"\";\n    return [...this.events].flatMap(ev => {\n      const ret: IBackupEvent[] = [];\n      const event: IBackupEvent = {\n        ...ev,\n        time: ev.date && this.$d(ev.date, \"time\")\n      };\n      if (event.date) {\n        const newDate = dateToYYYYMMDDString(event.date);\n        if (newDate !== lastDate) {\n          lastDate = newDate;\n          const heading = (\n            this.$d(parse(newDate), \"short\") +\n            \" - \" +\n            distanceInWordsStrict(new Date(), newDate, {\n              locale:\n                settingsModule.language === Language.de ? deLocale : enLocale,\n              addSuffix: true,\n              unit: \"d\"\n            })\n          ).toUpperCase();\n          return [\n            {\n              id: heading,\n              isSectionHeading: true,\n              heading\n            },\n            event\n          ];\n        }\n      }\n      return event;\n    });\n  }\n\n  events: IBackupEvent[] = [];\n\n  interval = 0;\n\n  @Prop({\n    type: String,\n    required: true,\n    validator: (arg: string) =>\n      ([\n        LogType.other,\n        LogType.client,\n        LogType.repository,\n        LogType.backupJob\n      ] as string[]).indexOf(arg) !== -1\n  })\n  type!: LogType;\n\n  @Prop({\n    type: [Number, String],\n    default: 0\n  })\n  jobId!: number;\n\n  @Prop({\n    type: [Number, String],\n    default: 0\n  })\n  repoId!: number;\n\n  @Prop({\n    type: [Number, String],\n    default: 0\n  })\n  clientId!: number;\n\n  @Watch(\"showAllLogTypes\")\n  async onShowAllLogTypesChange() {\n    await this.fetchLogs(true);\n  }\n\n  @Watch(\"type\", { immediate: true })\n  async onTypeChange() {\n    await this.fetchLogs();\n  }\n\n  async fetchLogs(reset = false) {\n    const limit = 20;\n    const offset =\n      (!reset &&\n        this.events.length &&\n        Number(this.events[this.events.length - 1].id)) ||\n      undefined;\n    this.loading = true;\n    try {\n      const response = await getLogs(\n        (this.showAllLogTypes && {\n          // all logs\n          limit,\n          offset,\n          type: null\n        }) ||\n          (this.type === LogType.other && {\n            limit,\n            type: LogType.other,\n            offset\n          }) ||\n          (this.type === LogType.client && {\n            limit,\n            type: LogType.client,\n            clientId: this.clientId,\n            offset\n          }) ||\n          (this.type === LogType.backupJob && {\n            limit,\n            type: LogType.backupJob,\n            jobId: this.jobId,\n            offset\n          }) || {\n            limit,\n            type: LogType.repository,\n            repoId: this.repoId,\n            offset\n          }\n      );\n      if (response.payload) {\n        if (reset) {\n          this.events = [];\n        }\n        this.events.push(\n          ...response.payload.logs.map(this.transformLogFromApiToInternal)\n        );\n        if (response.payload.logs.length !== limit) {\n          this.noMoreEntries = true;\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n    this.loading = false;\n  }\n\n  transformLogFromApiToInternal(api: LogFromApi): IBackupEvent {\n    const chips: ({ name: string; class?: string })[] = [];\n    if (api.type === LogType.client) {\n      const client = adminModule.clientbyID(api.clientId);\n      if (client) {\n        chips.push({\n          name: client.name,\n          class: \"orange\"\n        });\n      }\n    }\n    if (api.type === LogType.repository || api.type === LogType.backupJob) {\n      const repo = repositoriesModule.getById(api.repoId);\n      if (repo) {\n        chips.push({\n          name: repo.name,\n          class: \"green\"\n        });\n      }\n    }\n    if (api.type === LogType.backupJob) {\n      const job = jobsModule.getById(api.jobId);\n      if (job) {\n        chips.push({\n          name: job.name,\n          class: \"blue\"\n        });\n      }\n    }\n    return {\n      id: api.id,\n      heading: api.eventDescription,\n      dotColor: api.logLevel,\n      date: parse(api.date),\n      chips\n    };\n  }\n\n  mounted() {\n    // // TODO: check for new logs\n    // this.interval = setInterval(async () => {\n    // }, 5000);\n  }\n\n  beforeDestroy() {\n    // clearInterval(this.interval);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=ts&\"","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Styles\nimport '../../../src/stylus/components/_timeline.styl';\nimport mixins from '../../util/mixins';\n// Mixins\nimport Themeable from '../../mixins/themeable';\nexport default mixins(Themeable\n/* @vue/component */\n).extend({\n    name: 'v-timeline',\n    props: {\n        alignTop: Boolean,\n        dense: Boolean\n    },\n    computed: {\n        classes: function classes() {\n            return _extends({\n                'v-timeline--align-top': this.alignTop,\n                'v-timeline--dense': this.dense\n            }, this.themeClasses);\n        }\n    },\n    render: function render(h) {\n        return h('div', {\n            staticClass: 'v-timeline',\n            'class': this.classes\n        }, this.$slots.default);\n    }\n});\n//# sourceMappingURL=VTimeline.js.map","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Types\nimport mixins from '../../util/mixins';\n// Components\nimport VIcon from '../VIcon';\n// Mixins\nimport Themeable from '../../mixins/themeable';\nimport Colorable from '../../mixins/colorable';\nexport default mixins(Colorable, Themeable\n/* @vue/component */\n).extend({\n    name: 'v-timeline-item',\n    props: {\n        color: {\n            type: String,\n            default: 'primary'\n        },\n        fillDot: Boolean,\n        hideDot: Boolean,\n        icon: String,\n        iconColor: String,\n        large: Boolean,\n        left: Boolean,\n        right: Boolean,\n        small: Boolean\n    },\n    computed: {\n        hasIcon: function hasIcon() {\n            return !!this.icon || !!this.$slots.icon;\n        }\n    },\n    methods: {\n        genBody: function genBody() {\n            return this.$createElement('div', {\n                staticClass: 'v-timeline-item__body'\n            }, this.$slots.default);\n        },\n        genIcon: function genIcon() {\n            if (this.$slots.icon) {\n                return this.$slots.icon;\n            }\n            return this.$createElement(VIcon, {\n                props: {\n                    color: this.iconColor,\n                    dark: !this.theme.isDark,\n                    small: this.small\n                }\n            }, this.icon);\n        },\n        genInnerDot: function genInnerDot() {\n            var data = this.setBackgroundColor(this.color);\n            return this.$createElement('div', _extends({\n                staticClass: 'v-timeline-item__inner-dot'\n            }, data), [this.hasIcon && this.genIcon()]);\n        },\n        genDot: function genDot() {\n            return this.$createElement('div', {\n                staticClass: 'v-timeline-item__dot',\n                class: {\n                    'v-timeline-item__dot--small': this.small,\n                    'v-timeline-item__dot--large': this.large\n                }\n            }, [this.genInnerDot()]);\n        },\n        genOpposite: function genOpposite() {\n            return this.$createElement('div', {\n                staticClass: 'v-timeline-item__opposite'\n            }, this.$slots.opposite);\n        }\n    },\n    render: function render(h) {\n        var children = [this.genBody()];\n        if (!this.hideDot) children.unshift(this.genDot());\n        if (this.$slots.opposite) children.push(this.genOpposite());\n        return h('div', {\n            staticClass: 'v-timeline-item',\n            class: _extends({\n                'v-timeline-item--fill-dot': this.fillDot,\n                'v-timeline-item--left': this.left,\n                'v-timeline-item--right': this.right\n            }, this.themeClasses)\n        }, children);\n    }\n});\n//# sourceMappingURL=VTimelineItem.js.map","import { render, staticRenderFns } from \"./Timeline.vue?vue&type=template&id=97f39236&scoped=true&\"\nimport script from \"./Timeline.vue?vue&type=script&lang=ts&\"\nexport * from \"./Timeline.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Timeline.vue?vue&type=style&index=0&id=97f39236&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97f39236\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/builds/backup380/backup380/gui/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VCheckbox } from 'vuetify/lib'\nimport { VChip } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSlideXTransition } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VTimeline } from 'vuetify/lib'\nimport { VTimelineItem } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCheckbox,VChip,VContainer,VDialog,VFlex,VIcon,VLayout,VSlideXTransition,VSpacer,VTimeline,VTimelineItem})\n"],"sourceRoot":""}